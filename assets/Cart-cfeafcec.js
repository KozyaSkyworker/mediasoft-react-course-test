import{u as i,j as t}from"./index-2c66dff3.js";import{a as l}from"./index.esm-e0227a48.js";import{u as d,c as o,d as m,i as p,b as x}from"./cartMiddleware-eaba68c5.js";const h="_cart__delete_fd2gb_1",u="_cart__clear_fd2gb_1",j="_cart__top_fd2gb_4",b="_cart__wrapper_fd2gb_7",g="_cart__empty_fd2gb_13",f="_cart__fakeimg_fd2gb_16",N="_cart__items_fd2gb_23",y="_cart__item_fd2gb_23",v="_cart__text_fd2gb_36",k="_cart__img_fd2gb_43",C="_cart__title_fd2gb_47",q="_cart__btns_fd2gb_50",P="_cart__ctrl_fd2gb_53",_={cart__delete:h,cart__clear:u,cart__top:j,cart__wrapper:b,cart__empty:g,cart__fakeimg:f,cart__items:N,cart__item:y,cart__text:v,cart__img:k,cart__title:C,cart__btns:q,cart__ctrl:P},O=()=>{console.log("CART rerender");const a=d(),r=i(c=>c.cartItems.items),s=r.reduce((c,e)=>c+e.quantity,0),n=r.reduce((c,e)=>c+e.pricePerOne*e.quantity,0);return t.jsxs("div",{className:_.cart,children:[t.jsx("h1",{className:_.cart__title,children:"Корзина"}),t.jsx("div",{className:_.cart__top,children:t.jsx("button",{className:_.cart__clear,onClick:()=>{a(o([]))},children:"Очистить корзину"})}),t.jsx("div",{className:_.cart__wrapper,children:r.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:_.cart__items,children:r.map(c=>t.jsxs("div",{className:_.cart__item,children:[t.jsx("div",{className:_.cart__fakeimg,children:"(картинки сломались :) )"}),t.jsxs("div",{className:_.cart__text,children:[t.jsx("span",{className:_.cart__title,children:c.title}),t.jsxs("div",{className:_.cart__btns,children:[t.jsxs("span",{className:_.cart__quantity,children:["Количество тв. ",c.quantity]}),t.jsxs("div",{className:_.cart__ctrl,children:[t.jsx("button",{disabled:c.quantity===1,onClick:()=>{a(m(c))},children:"-"}),"|",t.jsx("button",{onClick:()=>{a(p(c))},children:"+"})]})]}),t.jsxs("span",{className:_.cart__price,children:[c.pricePerOne*c.quantity," $"]}),t.jsx("button",{className:_.cart__delete,onClick:()=>{a(x(c))},children:t.jsx(l,{})})]})]},c.id))}),t.jsx("div",{className:_.cart__amount,children:t.jsxs("p",{children:["В корзине ",t.jsx("span",{children:s})," тв. на сумму ",t.jsx("span",{children:n})," $"]})})]}):t.jsx("p",{className:_.cart__empty,children:"Ваша корзина пуста"})}),t.jsx("div",{className:_.cart__bot,children:t.jsx("button",{children:"Заказать"})})]})};export{O as default};
