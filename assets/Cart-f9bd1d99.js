import{u as l,j as t}from"./index-7f476f94.js";import{a as i}from"./index.esm-7ab0ea10.js";import{u as d,c as o,d as m,i as p,b as x}from"./cartMiddleware-83d66376.js";const u="_cart__delete_139a7_1",h="_cart__clear_139a7_1",j="_cart__top_139a7_4",N="_cart__wrapper_139a7_7",b="_cart__empty_139a7_13",y="_cart__items_139a7_16",v="_cart__item_139a7_16",g="_cart__text_139a7_29",C="_cart__img_139a7_36",q="_cart__title_139a7_40",P="_cart__btns_139a7_43",f="_cart__ctrl_139a7_46",a={cart__delete:u,cart__clear:h,cart__top:j,cart__wrapper:N,cart__empty:b,cart__items:y,cart__item:v,cart__text:g,cart__img:C,cart__title:q,cart__btns:P,cart__ctrl:f},Q=()=>{console.log("CART rerender");const _=d(),r=l(c=>c.cartItems.items),s=r.reduce((c,e)=>c+e.quantity,0),n=r.reduce((c,e)=>c+e.pricePerOne*e.quantity,0);return t.jsxs("div",{className:a.cart,children:[t.jsx("h1",{className:a.cart__title,children:"Корзина"}),t.jsx("div",{className:a.cart__top,children:t.jsx("button",{className:a.cart__clear,onClick:()=>{_(o([]))},children:"Очистить корзину"})}),t.jsx("div",{className:a.cart__wrapper,children:r.length>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:a.cart__items,children:r.map(c=>t.jsxs("div",{className:a.cart__item,children:[t.jsx("img",{className:a.cart__img,src:c.thumbnail,alt:"фотография"}),t.jsxs("div",{className:a.cart__text,children:[t.jsx("span",{className:a.cart__title,children:c.title}),t.jsxs("div",{className:a.cart__btns,children:[t.jsxs("span",{className:a.cart__quantity,children:["Количество тв. ",c.quantity]}),t.jsxs("div",{className:a.cart__ctrl,children:[t.jsx("button",{disabled:c.quantity===1,onClick:()=>{_(m(c))},children:"-"}),"|",t.jsx("button",{onClick:()=>{_(p(c))},children:"+"})]})]}),t.jsxs("span",{className:a.cart__price,children:[c.pricePerOne*c.quantity," $"]}),t.jsx("button",{className:a.cart__delete,onClick:()=>{_(x(c))},children:t.jsx(i,{})})]})]},c.id))}),t.jsx("div",{className:a.cart__amount,children:t.jsxs("p",{children:["В корзине ",t.jsx("span",{children:s})," тв. на сумму ",t.jsx("span",{children:n})," $"]})})]}):t.jsx("p",{className:a.cart__empty,children:"Ваша корзина пуста"})}),t.jsx("div",{className:a.cart__bot,children:t.jsx("button",{children:"Заказать"})})]})};export{Q as default};
