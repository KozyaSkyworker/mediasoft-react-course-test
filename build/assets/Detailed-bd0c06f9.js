import{r as _,e as f,u as p,f as N,j as t}from"./index-2c66dff3.js";import{b,P}from"./productsSkeleton-a7fe4f00.js";import{u as w,a as C}from"./cartMiddleware-eaba68c5.js";import{F as S}from"./index.esm-e0227a48.js";const I="_product__images_11vht_1",k="_product__text_11vht_1",y="_product__wrapper_11vht_12",E="_product__description_11vht_22",F="_product__rating_11vht_25",L="_product__price_11vht_28",A="_product__count_11vht_31",c={product__images:I,product__text:k,product__wrapper:y,product__description:E,product__rating:F,product__price:L,product__count:A},T=()=>{const[s,i]=_.useState(1),e=w(),{productId:u}=f(),{id:l,title:a,description:m,price:n,rating:h,brand:x,thumbnail:j,images:g}=p(r=>r.product.product),d=p(r=>r.product.isLoading),v=_.useCallback(r=>i(r.target.value),[s]);return _.useEffect(()=>{e(N(!0)),e(b(u))},[]),t.jsxs("div",{className:c.product,children:[t.jsx("div",{className:c.product__images,children:t.jsx("div",{className:c.product__wrapper,children:d?[...new Array(3)].map((r,o)=>t.jsx(P,{},o)):g.map((r,o)=>t.jsx("img",{src:r,alt:"фотография"},o))})}),t.jsx("div",{className:c.product__text,children:d?t.jsx("p",{children:"Идёт загрузка..."}):t.jsxs(t.Fragment,{children:[t.jsxs("h1",{children:[a," ",t.jsxs("span",{className:c.product__rating,children:[t.jsx(S,{})," ",h]})]}),t.jsx("h2",{children:x}),t.jsx("p",{className:c.product__description,children:m}),t.jsxs("p",{children:[t.jsx("span",{className:c.product__price,children:n})," $"]})," ",t.jsxs("p",{children:["Сколько штук добавить в корзину?"," ",t.jsx("input",{className:c.product__count,type:"number",value:s,onChange:v})]}),t.jsx("button",{onClick:()=>{const r={id:l,title:a,thumbnail:j,pricePerOne:n,quantity:Number(s)};e(C(r))},children:"Добавить в корзину"})]})})]})};export{T as default};
